<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title th:text="${resident.username} + ' profile'">Profile</title>
</head>
<body>
<div th:insert="~{fragments/menu :: #nav-menu}"></div>
<h1 ALIGN="center" th:text="${resident.username} + ' profile'">PROFILE</h1>
<table border="1" align="center">
    <tr>
        <td>Name</td>
        <td th:text="${resident.username}"></td>
    </tr>
    <tr>
        <td>Role</td>
        <td th:text="${resident.role}"></td>
    </tr>
    <tr>
        <td>Email</td>
        <td th:text="${resident.email}"></td>
    </tr>
    <tr th:if="${resident.houseNumber != null}">
        <td>House number</td>
        <td th:text="${resident.houseNumber}"></td>
    </tr>
    <tr th:if="${resident.flatNumber != null}">
        <td>Flat number</td>
        <td th:text="${resident.flatNumber}"></td>
    </tr>

</table>
<div sec:authorize="hasAnyAuthority('ADMIN', 'CONCIERGE')" align="center">
    <div th:if="${resident.flatId != null}">
        <a th:href="@{/flat/{id}(id = ${resident.flatId})}">Check flat</a>>
    </div>
</div>
<div th:if = "${#authentication.principal.username} == ${resident.username}" align="center">
    <a th:href = "@{/residents/profile/update}">Update</a>
</div>
</body>
</html>